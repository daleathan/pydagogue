

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using vim as a mergetool in git &mdash; pydagogue 0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pydagogue 0.2 documentation" href="index.html" />
    <link rel="next" title="Rebase without tears" href="rebase_without_tears.html" />
    <link rel="prev" title="Developing on linux" href="develop_linux.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="rebase_without_tears.html" title="Rebase without tears"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="develop_linux.html" title="Developing on linux"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">pydagogue 0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="using-vim-as-a-mergetool-in-git">
<span id="vim-mergetool"></span><h1>Using vim as a mergetool in git<a class="headerlink" href="#using-vim-as-a-mergetool-in-git" title="Permalink to this headline">Â¶</a></h1>
<p>Setup:</p>
<div class="highlight-python"><pre>git config --global merge.tool gvimdiff
git config --global mergetool prompt false
git config --global merge.conflictstyle diff3</pre>
</div>
<p>The last is so that we can see the base revision displayed within the merge
markers, in the merged file.  The <em>base</em> the revision that was the most recent
common basis for the two different versions implied in the merge.</p>
<p>Rebasing:</p>
<div class="highlight-python"><pre>git rebase main-master
git mergetool</pre>
</div>
<p>Quoting from <tt class="docutils literal"><span class="pre">git</span> <span class="pre">mergetool</span> <span class="pre">--help</span></tt>:</p>
<blockquote>
<div>When git mergetool is invoked with this tool (either through the -t or
&#8211;tool option or the merge.tool configuration variable) the configured
command line will be invoked with $BASE set to the name of a temporary file
containing the common base for the merge, if available; $LOCAL set to the
name of a temporary file containing the contents of the file on the current
branch; $REMOTE set to the name of a temporary file containing the contents
of the file to be merged, and $MERGED set to the name of the file to which
the merge tool should write the result of the merge resolution.</div></blockquote>
<p>Interpreting the text above in the context of <tt class="docutils literal"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">--help</span></tt> - the
&#8220;current branch&#8221; will, in this case, be <tt class="docutils literal"><span class="pre">main-master</span></tt> - more generally it will
be the &#8220;upstream&#8221; branch in the rebase command line, or &#8220;newbase&#8221; if you used
the <tt class="docutils literal"><span class="pre">--onto</span> <span class="pre">&lt;newbase&gt;</span></tt> option.</p>
<p>On my screen, there are four windows, three at the top, and one below.  (This is
for git 1.7.4.1.  Versions at least until 1.7.2 had three windows, vertically
arranged, being LOCAL, MERGED and REMOTE in the terms below).  In a rebase, the
ones at the top will be</p>
<ul class="simple">
<li>LOCAL : the current branch (<tt class="docutils literal"><span class="pre">git</span> <span class="pre">branch</span></tt>). In the case of a rebase this will
be the upstream branch (or &lt;newbase&gt; from <tt class="docutils literal"><span class="pre">--onto</span></tt>).  Here it would be
<tt class="docutils literal"><span class="pre">main-master</span></tt>.</li>
<li>BASE : the common basis against which LOCAL and REMOTE have changed. This
allows us to see what LOCAL and REMOTE have changed against.</li>
<li>REMOTE : the file as for the changes we are adding with the rebase.  In our
case, that would be the branch we were on when we issued <tt class="docutils literal"><span class="pre">git</span> <span class="pre">rebase</span>
<span class="pre">main-master</span></tt>.</li>
</ul>
<p>The one at the bottom is:</p>
<ul class="simple">
<li>MERGED : the file to which we write the changes, to be selected from LOCAL
(new changes) REMOTE (upstream changes).  This is the file with the merge
markers in it. If you have <em>conflictstyle</em> above set to <tt class="docutils literal"><span class="pre">diff3</span></tt> you will see
the LOCAL, REMOTE and BASE versions within the mergemarker block.</li>
</ul>
<p>Now, time to go through the lower pane, pulling in changes from the &#8220;upstream&#8221;
(left) pane, or the &#8220;rebase changes&#8221; (right) pane, as in one of:</p>
<div class="highlight-python"><pre>:diffg LO
:diffg BA
:diffg RE</pre>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="develop_linux.html"
                        title="previous chapter">Developing on linux</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="rebase_without_tears.html"
                        title="next chapter">Rebase without tears</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/vim_mergetool.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="rebase_without_tears.html" title="Rebase without tears"
             >next</a> |</li>
        <li class="right" >
          <a href="develop_linux.html" title="Developing on linux"
             >previous</a> |</li>
        <li><a href="index.html">pydagogue 0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, 2010 - Matthew Brett.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>